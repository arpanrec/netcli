# This workflow will build a golang project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-go

name: Checks

on:
    pull_request:
        branches: ["main"]

jobs:
    # check-files:
    #     runs-on: ubuntu-latest
    #     steps:
    #         - uses: actions/checkout@v4
    #           with:
    #               fetch-depth: 1

    #         - name: Check for autogenerated files
    #           run: |+
    #               declare -a files_or_dirs_should_not_exit=(
    #               "docs"
    #               "CHANGELOG.md"
    #               "web-run.sh"
    #               "README.md"
    #               "build"
    #               )
    #               for file_or_dir in "${files_or_dirs_should_not_exit[@]}"; do
    #                   if [ -e "$file_or_dir" ]; then
    #                   echo "Error: $file_or_dir should not exist"
    #                   exit 1
    #                   fi
    #               done

    gitleaks:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v4
              with:
                  fetch-depth: 0

            - name: Gitleaks
              uses: gitleaks/gitleaks-action@v2
              env:
                  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
